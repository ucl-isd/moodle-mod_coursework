define("mod_coursework/marking_guide",["exports","mod_coursework/marking_guide_feedback_percent"],(function(_exports,FeedbackPercent){function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,FeedbackPercent=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}
/**
   * Marking guide enhancements for mod_coursework.
   *
   * @module     mod_coursework/marking_guide
   * @copyright  2026 UCL
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */(FeedbackPercent);const preventInvalidNumber=event=>{/[0-9.]/.test(event.key)?event.target.value.length>=7&&"Backspace"!==event.key&&"Delete"!==event.key&&event.preventDefault():event.preventDefault()};_exports.init=(markLabelText,enterPercentGrades)=>{(markLabelText=>{const rootElement=document.getElementById("coursework-markingform");if(!rootElement)return;rootElement.querySelectorAll("td.score").forEach((cell=>{const scoreInput=cell.querySelector("input"),maxScoreDiv=cell.querySelector("div");if(scoreInput&&maxScoreDiv){const maxScore=maxScoreDiv.textContent.replace(/[^0-9.]/g,"");scoreInput.setAttribute("required","required"),scoreInput.setAttribute("type","number"),scoreInput.setAttribute("min","0"),scoreInput.setAttribute("step","any"),maxScore&&scoreInput.setAttribute("max",maxScore);const scoreLabel=document.createElement("label");scoreLabel.textContent="".concat(markLabelText," (0â€“").concat(maxScore,")"),scoreInput.id&&scoreLabel.setAttribute("for",scoreInput.id),cell.insertBefore(scoreLabel,cell.firstChild),maxScoreDiv.remove()}scoreInput.addEventListener("keypress",preventInvalidNumber)}))})(markLabelText),FeedbackPercent.init(enterPercentGrades)}}));

//# sourceMappingURL=marking_guide.min.js.map