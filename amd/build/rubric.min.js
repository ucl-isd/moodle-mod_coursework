define("mod_coursework/rubric",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=feedbackPrefix=>{const rubricContainer=document.querySelector(".gradingform_rubric");if(!rubricContainer)return;rubricContainer.addEventListener("click",(e=>{const cell=e.target.closest(".level");if(!cell)return;const radio=cell.querySelector('input[type="radio"]');if(!radio)return;e.stopPropagation(),e.target!==radio&&(radio.checked=!0);cell.closest("tr").querySelectorAll(".level").forEach((l=>{l.classList.remove("checked","currentchecked"),l.setAttribute("aria-checked","false")})),cell.classList.add("checked","currentchecked"),cell.setAttribute("aria-checked","true"),radio.dispatchEvent(new Event("change",{bubbles:!0}))}),!0);rubricContainer.querySelectorAll("td.remark").forEach((cell=>{const textarea=cell.querySelector("textarea"),parentRow=cell.closest("tr"),descriptionCell=parentRow?parentRow.querySelector("td.description"):null;if(textarea&&descriptionCell){const tempDescription=descriptionCell.cloneNode(!0),reviewMarks=tempDescription.querySelector(".review-marks");reviewMarks&&reviewMarks.remove();const criterionName=tempDescription.textContent.trim(),feedbackLabel=document.createElement("label");feedbackLabel.textContent="".concat(feedbackPrefix," ").concat(criterionName),textarea.id&&feedbackLabel.setAttribute("for",textarea.id),cell.insertBefore(feedbackLabel,textarea)}}))}}));

//# sourceMappingURL=rubric.min.js.map