define("mod_coursework/rubric",["exports","core/str"],(function(_exports,_str){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=async()=>{const rubricContainer=document.querySelector(".gradingform_rubric");if(rubricContainer){rubricContainer.addEventListener("click",(e=>{const cell=e.target.closest(".level");if(!cell)return;const radio=cell.querySelector('input[type="radio"]');if(!radio)return;e.stopPropagation(),e.target!==radio&&(radio.checked=!0);cell.closest("tr").querySelectorAll(".level").forEach((l=>{l.classList.remove("checked","currentchecked"),l.setAttribute("aria-checked","false")})),cell.classList.add("checked","currentchecked"),cell.setAttribute("aria-checked","true"),radio.dispatchEvent(new Event("change",{bubbles:!0}))}),!0);try{const feedbackPrefix=await(0,_str.getString)("feedbackfor","mod_coursework");rubricContainer.querySelectorAll("td.remark").forEach((cell=>{const textarea=cell.querySelector("textarea"),parentRow=cell.closest("tr"),descriptionCell=parentRow?parentRow.querySelector("td.description"):null;if(textarea&&descriptionCell){const criterionName=descriptionCell.cloneNode(!0).textContent.trim(),feedbackLabel=document.createElement("label");feedbackLabel.textContent=`${feedbackPrefix} ${criterionName}`,textarea.id&&feedbackLabel.setAttribute("for",textarea.id),cell.insertBefore(feedbackLabel,textarea)}}))}catch(error){console.error("Catch from rubric.js:",error)}}}}));

//# sourceMappingURL=rubric.min.js.map